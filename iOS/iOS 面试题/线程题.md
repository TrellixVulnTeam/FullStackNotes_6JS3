### 题目1 讲一下atomic的实现机制；为什么不能保证绝对的线程安全（最好可以结合场景来说）？（来源《出一套iOS高级题》J_Knight_）

### 题目2 有哪些场景是NSOperation比GCD更容易实现的？（或是NSOperation优于GCD的几点，知道多少说多少）（来源《出一套iOS高级题》J_Knight_）

### 题目3 什么时候会出现死锁？如何避免？（来源《出一套iOS高级题》J_Knight_）

### 题目4 说一说你对线程安全的理解？（来源《出一套iOS高级题》J_Knight_）

### 题目5 列举你知道的线程同步策略？（来源《出一套iOS高级题》J_Knight_）

### 题目6 有哪几种锁？各自的原理？它们之间的区别是什么？最好可以结合使用场景来说（来源《出一套iOS高级题》J_Knight_）

### [※※]题目7 GCD的队列（dispatch_queue_t）分哪两种类型？（来源《找一个靠谱的iOS》sunnyxx的技术博客）

### [※※※※]题目8 如何用GCD同步若干个异步调用？（如根据若干个url异步加载多张图片，然后在都下载完成后合成一张整图）（来源《找一个靠谱的iOS》sunnyxx的技术博客）

### [※※※※]题目9 dispatch_barrier_async的作用是什么？（来源《找一个靠谱的iOS》sunnyxx的技术博客）

### [※※※※※]题目10 苹果为什么要废弃dispatch_get_current_queue？（来源《找一个靠谱的iOS》sunnyxx的技术博客）

### 【题目】atomic 与 nonatomic 区别？
* [iOS 深入了解 atomic 与 nonatomic](https://app.yinxiang.com/shard/s35/nl/9757212/c91d6c9d-c797-4cfe-a0bd-289747c9f4d0)

解答：

* atomic与nonatomic内部实现的区别只是atomic对象setter和getter方法会加一个锁，而nonatomic并没有，代码如下：

```
@property (nonatomic) NSObject *nonatomicObj; 
@property (atomic) NSObject *atomicObj;

- (void)setNonatomicObj:(NSObject *)nonatomicObj{ 
    if (_nonatomicObj != nonatomicObj) { 
        [_nonatomicObj release]; 
        _nonatomicObj = [nonatomicObj retain]; 
    } 
}

- (NSObject *)nonatomicObj{ 
    return _nonatomicObj; 
}

- (void)setAtomicObj:(NSObject *)atomicObj{ 
    @synchronized(self) { 
        if (_atomicObj != atomicObj) { 
            [_atomicObj release];  
            _atomicObj = [atomicObj retain]; 
        } 
    } 
}

- (NSObject *)atomicObj{ 
    @synchronized(self) { 
        return _atomicObj; 
    } 
}
```

总结：atomic所说的线程安全只是保证了getter和setter存取方法的线程安全，并不能保证整个对象是线程安全的。还要为对象线程添加lock来确保线程的安全。万物皆对象，对象不只是包含getter和setter方法。