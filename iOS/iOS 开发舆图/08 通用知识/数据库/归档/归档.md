注意：所有使用归档和反归档的对象都必须遵循NSCoding协议

### 归档的作用

之前将数据存储到本地，只能是字符串、数组、字典、NSNuber、BOOL等容器类对象，不能将自定义对象进行保存，而通过归档能将所有的对象转化为二进制数据存储到文件中

### 归档

当遇到有结构有组织的数据时，比如字典，数组，自定义的对象等在存储时需要转换为字节流NSData类型数据，再通过写入文件来进行存储。

### 反归档

字节流转换为字典，数组，自定义的类等

### 归档缺点

归档保存数据，只能一次性归档保存以及一次性解压。所以只能针对小量数据，而且对数据操作比较笨拙，即如果想改动数据的某一小部分，还是需要解压整个数据或者归档整个数据。

### 使用场景

1.有些应用支持一个离线缓存，也就是说当手机没联网时，可以将手机有网时的数据存放在本地，当手机没网时，从本地中取出来这些数据展示。

2.电商场景中，可以缓存用户搜索历史记录。

[1、对系统对象进行归档](https://www.notion.so/1-44e83a96ab034e4b8cce99ace6d7aa19)

[2、对自定义的对象进行归档](https://www.notion.so/2-deadb6cb42014e32ae4b93b69f65a5c5)

[3、对不同类型对象进行归档](https://www.notion.so/3-55ac501159734bc7a5c23bd04275d144)