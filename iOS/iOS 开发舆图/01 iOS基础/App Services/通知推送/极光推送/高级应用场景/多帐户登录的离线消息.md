### 业务场景
客户端 App 是类 QQ（聊天）客户端应用，支持多个帐号登录。

聊天帐号 UID 设置为 JPush 别名，从而聊天用户之间可以通过别名互相推送消息。

A 帐号登录后（绑定 A uid 到别名），可以通过 JPush 向 A 推送消息。

A 退出后，登录 B（更新绑定 B uid 到别名）。这时候可以通过 JPush 向 B 推送消息。 但是：继续向 A 推送消息则会报错，通过别名 A uid 找不到目标用户。

### 问题解析
JPush 别名是针对设备设置的。一台设备上，只能绑定一个别名。新的别名会覆盖，被覆盖掉的别名不再对应设备。

这是 JPush 的机制。

这个业务场景，想要在 A 用户没有注销的情况下，也可以向其推送消息，让 JPush 来保存离线消息，从而 A 再次登录时可以继续收到。

这个业务场景需求对 JPush 是过度依赖了。

JPush 只是做 “推送” 这个唯一的功能。JPush 提供有限时长的离线消息，它是推送机制的一部分，而不是为了保存消息历史记录。

如果开发者应用想要做历史消息记录功能，则应自己的应用服务器去做。

### 解决思路
A 用户注销后，当有其他用户要向 A 用户发送消息时，开发者应用服务器应保存消息历史记录，而不要向 A 用户推送。只是 A 用户再次登录上线时，才可以向其推送消息。